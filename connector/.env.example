# Bank-Side Connector Configuration
# ===================================
# Copy this file to .env and configure for your environment

# Service Mode: DEMO or BANK
CONNECTOR_MODE=DEMO

# Unique identifier for this connector instance
CONNECTOR_ID=connector-demo-001

# Network settings
CONNECTOR_HOST=0.0.0.0
CONNECTOR_PORT=8443

# TLS settings (required for production)
# CONNECTOR_TLS_CERT_PATH=/path/to/cert.pem
# CONNECTOR_TLS_KEY_PATH=/path/to/key.pem

# Demo mode settings (only used when MODE=DEMO)
CONNECTOR_DEMO_REPO_ROOT=./demo_repo
CONNECTOR_ITEM_INDEX_PATH=./demo_repo/item_index.json

# Allowed UNC share roots (comma-separated)
# These are the only paths that can be accessed
CONNECTOR_ALLOWED_SHARE_ROOTS=\\\\tn-director-pro\\Checks\\Transit\\,\\\\tn-director-pro\\Checks\\OnUs\\

# JWT Authentication (RS256)
# The public key used to verify tokens from the SaaS
# Generate keys with: python scripts/mint_token.py --generate-keys
CONNECTOR_JWT_PUBLIC_KEY_PATH=./keys/connector_public.pem
# Or inline (use multi-line with quotes):
# CONNECTOR_JWT_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----\n...\n-----END PUBLIC KEY-----"

# JWT settings
CONNECTOR_JWT_ALGORITHM=RS256
CONNECTOR_JWT_ISSUER=check-review-saas
CONNECTOR_JWT_REPLAY_CACHE_TTL_SECONDS=300

# Image handling
CONNECTOR_MAX_IMAGE_MB=50
CONNECTOR_CACHE_TTL_SECONDS=60
CONNECTOR_CACHE_MAX_ITEMS=100

# Rate limiting
CONNECTOR_RATE_LIMIT_REQUESTS_PER_MINUTE=100
CONNECTOR_RATE_LIMIT_BURST=20

# Audit logging
CONNECTOR_LOG_DIR=./logs
CONNECTOR_LOG_LEVEL=INFO
CONNECTOR_AUDIT_LOG_FILE=connector_audit.jsonl

# Required roles for image access (comma-separated)
CONNECTOR_IMAGE_ACCESS_ROLES=image_viewer,check_reviewer,admin
